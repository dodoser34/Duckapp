<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="icon" href="../html/assets/icon.ico" type="image/x-icon">
	<title>–ß–∞—Ç DuckApp</title>

	<link rel="stylesheet" href="../styles/base/chat.css">
	<link rel="stylesheet" href="../styles/chat_styles/add_friend.css">
	<link rel="stylesheet" href="../styles/chat_styles/header.css">
	<link rel="stylesheet" href="../styles/chat_styles/input.css">
	<link rel="stylesheet" href="../styles/chat_styles/menu_header.css">
	<link rel="stylesheet" href="../styles/chat_styles/friends.css">
	<link rel="stylesheet" href="../styles/chat_styles/profile.css">
	<link rel="stylesheet" href="../styles/chat_styles/messages.css">

	<script type="module" src="../js/chat/chat_header.js" defer></script>
	<script type="module" src="../js/chat/addFriend.js" defer></script>
	<script type="module" src="../js/chat/changeStats.js" defer></script>
	<script type="module" src="../js/chat/profile.js" defer></script>
	<script type="module" src="../js/chat/logoutProfile.js" defer></script>
	<script type="module" src="../js/chat/chat_logic.js" defer></script>
	<script type="module" src="../js/chat/gifHandler.js" defer></script>

	<script type="module" src="../js/checkSession.js" defer></script>
</head>

<body>
	<!-- ====== –ü–ª–∞–≤–∞—é—â–∏–µ —É—Ç–æ—á–∫–∏ ====== -->
    <div id="ducks"></div>

	<div class="chat-wrapper">
		<div class="chat-box">
			<!--! –®–∞–ø–∫–∞ -->
			<div class="chat-header">
				<div class="chat-header-left">
					<img class="avatar" id="header-avatar">
					<div class="chat-header-text">
						<div id="chat-title" class="chat-title">–¢—ã</div>
						<div class="chat-subtitle">–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —á–∞—Ç–∞–º</div>
					</div>
				</div>
				<div class="chat-header-actions">
					<button class="header-icon-btn" id="menu-toggle">‚ãÆ</button>
					<div class="chat-menu" id="chat-menu">
						<button class="menu-item" id="rename-chat">üìù –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å</button>
						<button class="menu-item" id="delete-chat">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —á–∞—Ç</button>
					</div>
				</div>
			</div>

			<!--! –°–æ–æ–±—â–µ–Ω–∏—è -->
			<div class="chat-messages" id="chat-body">
				<div class="empty-chat muted">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç —Å–ø—Ä–∞–≤–∞ üëâ</div>
			</div>

			<!--! –í–≤–æ–¥ -->
			<div class="chat-input">
			<textarea id="message-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="1" maxlength="3000"></textarea>

			<div class="gif-wrapper">
				<button id="sendgif-btn">GIF</button>
				<div id="gif-panel" class="gif-panel">
				<input type="text" id="gifSearchInput" placeholder="–ü–æ–∏—Å–∫ GIF...">
				<button id="gifSearchBtn">üîç</button>
				<div id="gif-results"></div>
				</div>
			</div>

			<button id="sendsmale-btn">üòÑ</button>
			<button id="send-btn">ü¶Ü</button>
			</div>
		</div>

		<!--! –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
		<aside class="chat-list">
			<div class="chat-list-item profile" id="profile-toggle">
				<div class="avatar-wrapper">
					<img class="avatar" id="profile-avatar">
					<span class="status-indicator" id="status-indicator"></span>
				</div>
				<div>
					<div class="name" id="profile-name"> </div>
					<div class="status muted" id="profile-status"> </div>
				</div>
			</div>

			<div id="profile-panel" class="profile-panel">
				<button class="sub-btn toggle-status">–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
				<div class="sub-panel" id="status-panel">
					<button class="status-btn" data-status="online">üü¢ –í —Å–µ—Ç–∏</button>
					<button class="status-btn" data-status="invisible">üëª –ù–µ–≤–∏–¥–∏–º–∫–∞</button>
					<button class="status-btn" data-status="dnd">‚õî –ù–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å</button>
				</div>
				<button class="sub-btn" id="open-avatar-modal">–ò–∑–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä–∫—É</button>
				<button class="sub-btn logout-btn" id="logout-btn">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
			</div>
			
			<div class="friends-panel-wrapper">
				<div id="profile-panel-friends" class="profile-panel-friends">
					<button id="profile-add-friend-btn">Add Friend</button>
				</div>
				<div class="chat-list-items"></div>
			</div>
			
			<footer class="footer">LLC UTYAPUTYA ¬© 2025 <br> All rights reserved</footer>
		</aside>
	</div>

	<!--! –ú–æ–¥–∞–ª–∫–∞ Add Friend -->
	<div id="add-friend-modal" class="modal">
		<div class="add-friend-content">
			<h2>–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞</h2>
			<input type="text" id="friend-search" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫ –¥—Ä—É–≥–∞" maxlength="18" required/>
			<div class="add-friend-buttons">
				<button id="search-friend-btn">–ù–∞–π—Ç–∏</button>
				<button id="close-add-friend">–û—Ç–º–µ–Ω–∞</button>
			</div>
			<div id="friend-result"></div>
			<div id="error-message"></div>
		</div>
	</div>

	<!--! –ú–æ–¥–∞–ª–∫–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è -->
	<div id="rename-modal" class="modal rename-modal">
		<div class="modal-content rename-content">
			<h3>–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∏–º—è</h3>
			<input type="text" id="rename-input" placeholder="–ù–æ–≤–æ–µ –∏–º—è" maxlength="18"/>
			<div class="modal-buttons">
				<button id="rename-confirm">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
				<button id="rename-cancel">–û—Ç–º–µ–Ω–∞</button>
			</div>
		</div>
	</div>

	<!--! –ú–æ–¥–∞–ª–∫–∞ –≤—ã–±–æ—Ä–∞ –∞–≤–∞—Ç–∞—Ä–∞ -->
	<div class="modal" id="avatar-modal">
		<div class="modal-content">
			<h2>–í—ã–±–µ—Ä–∏ –∞–≤–∞—Ç–∞—Ä</h2>
			<div class="avatar-options">
				<img src="../html/assets/avatar_1.png" class="avatar-choice">
				<img src="../html/assets/avatar_2.png" class="avatar-choice">
				<img src="../html/assets/avatar_3.png" class="avatar-choice">
				<img src="../html/assets/avatar_4.png" class="avatar-choice">
				<img src="../html/assets/avatar_5.png" class="avatar-choice">
				<img src="../html/assets/avatar_6.png" class="avatar-choice">
				<img src="../html/assets/avatar_7.png" class="avatar-choice">
				<img src="../html/assets/avatar_8.png" class="avatar-choice">
				<img src="../html/assets/avatar_9.png" class="avatar-choice">
				<img src="../html/assets/avatar_10.png" class="avatar-choice">
			</div>
			<label class="upload-btn">
				Upload your avatar
				<input type="file" id="avatar-input" accept="image/*">
			</label>
		</div>
	</div>
</body>
</html>
